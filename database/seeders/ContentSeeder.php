<?php

namespace Database\Seeders;

use Illuminate\Database\Console\Seeds\WithoutModelEvents;
use Illuminate\Database\Seeder;
use App\Models\{Content, FAQ};

class ContentSeeder extends Seeder
{
    /**
     * Run the database seeds.
     */
    public function run(): void
    {
        if (Content::count() > 0 || FAQ::count() > 0) {
            $this->command->info('Content or FAQ data already exists. Skipping seeding.');
            return;
        }
        // Create static content
        $contents = [
            [
                'type' => Content::TYPE_PRIVACY_POLICY,
                'title' => 'سياسة الخصوصية',
                'content' => 'نحن في تطبيق سلايد نلتزم بحماية خصوصيتك وبياناتك الشخصية. نحن نجمع فقط المعلومات الضرورية مثل الاسم ورقم الهاتف والبريد الإلكتروني لتوفير تجربة آمنة ومميزة. لا نشارك بياناتك مع أطراف ثالثة دون موافقتك الصريحة، إلا في الحالات التي يتطلبها القانون. نستخدم أحدث تقنيات التشفير لحماية معلوماتك. يمكنك في أي وقت تحديث أو حذف بياناتك الشخصية. قد نحدث هذه السياسة من وقت لآخر، واستمرار استخدامك للتطبيق يعني موافقتك على التحديثات. هدفنا هو توفير بيئة استثمار آمنة وموثوقة لجميع المستخدمين.',
                'last_updated' => now()->format('Y-m-d'),
                'is_active' => true,
            ],
            [
                'type' => Content::TYPE_TERMS_CONDITIONS,
                'title' => 'الشروط والأحكام',
                'content' => 'باستخدام هذا التطبيق، فإنك توافق على الالتزام بالشروط والأحكام التالية. يمنع استخدام التطبيق لأي غرض غير قانوني أو احتيالي. يتحمل المستخدم مسؤولية دقة البيانات التي يقدمها سواء كمستثمر أو كصاحب مشروع. تحتفظ إدارة التطبيق بالحق في مراجعة أو حذف أي محتوى مخالف أو غير موثوق. لا تتحمل إدارة التطبيق مسؤولية أي خسائر ناتجة عن قرارات استثمارية يتخذها المستخدم بناء على المعلومات المتاحة. يُمنع إعادة استخدام أو نسخ محتوى التطبيق بدون إذن كتابي. يحق للإدارة تعديل هذه الشروط في أي وقت مع إشعار المستخدمين بذلك. استمرار استخدامك للتطبيق يعني موافقتك الكاملة على الشروط الحالية والمحدثة.',
                'last_updated' => now()->format('Y-m-d'),
                'is_active' => true,
            ],
            [
                'type' => Content::TYPE_ABOUT_APP,
                'title' => 'عن التطبيق',
                'content' => 'تطبيق سلايد هو منصة استثمارية مبتكرة تربط بين أصحاب المشاريع الطموحين والمستثمرين الباحثين عن فرص استثمارية مربحة. في سلايد، يمكن لأصحاب المشاريع عرض أفكارهم ومشاريعهم مع تفاصيل شاملة وواضحة، بينما يمكن للمستثمرين تصفح المشاريع المتاحة وتقييمها بناءً على بيانات واضحة وشفافة. نحن نلتزم بتوفير بيئة آمنة وعادلة وسهلة الاستخدام، مع ضمان التواصل المباشر بين الأطراف المعنية. نسعى لتحقيق أعلى معايير الحماية والجودة والمصداقية في جميع عملياتنا. هدفنا هو تمكين رواد الأعمال وتوسيع آفاق المستثمرين، مما يساهم في نمو الاقتصاد المحلي والإقليمي. انضم إلينا اليوم واكتشف عالم الفرص الاستثمارية المتنوعة.',
                'last_updated' => now()->format('Y-m-d'),
                'is_active' => true,
            ],
        ];

        foreach ($contents as $content) {
            Content::updateOrCreate(
                ['type' => $content['type']],
                $content
            );
        }

        // Create FAQ data
        $faqs = [
            [
                'question' => 'عن تطبيق سلايد؟',
                'answer' => 'تطبيق سلايد هو منصة استثمارية مبتكرة تربط بين أصحاب المشاريع والمستثمرين. نقدم بيئة آمنة وشفافة للاستثمار في المشاريع الواعدة.',
                'order' => 1,
                'is_active' => true,
            ],
            [
                'question' => 'هل طريقة الاستثمار امنة؟',
                'answer' => 'نعم، نستخدم أحدث تقنيات التشفير ونتبع أفضل الممارسات الأمنية لحماية استثماراتك وبياناتك الشخصية.',
                'order' => 2,
                'is_active' => true,
            ],
            [
                'question' => 'كيف يمكنني استرداد أموالي؟',
                'answer' => 'يمكنك استرداد أموالك من خلال المحفظة الإلكترونية في التطبيق. عملية الاسترداد تتم خلال 1-3 أيام عمل.',
                'order' => 3,
                'is_active' => true,
            ],
            [
                'question' => 'ما هي الحدود الدنيا والعليا للاستثمار؟',
                'answer' => 'تختلف الحدود حسب المشروع، ولكن عادة تتراوح بين 100 ريال كحد أدنى و 50,000 ريال كحد أقصى للمشروع الواحد.',
                'order' => 4,
                'is_active' => true,
            ],
            [
                'question' => 'كيف يمكنني التواصل مع فريق الدعم؟',
                'answer' => 'يمكنك التواصل معنا من خلال قسم الدعم في التطبيق أو عبر البريد الإلكتروني. فريق الدعم متاح 24/7 لمساعدتك.',
                'order' => 5,
                'is_active' => true,
            ],
        ];

        foreach ($faqs as $faq) {
            FAQ::create($faq);
        }

        $this->command->info('Content and FAQ data seeded successfully!');
    }
}
